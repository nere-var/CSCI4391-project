{% extends 'HomePageSetup.html' %}

{% block head %}

<title>Scoreboard</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/homestyle.css') }}">
{% endblock %}

{% block body %}
<div class="welcome1">
    <h1>Scoreboard</h1>
    <p class="text">Players ranked from lowest score to highest.</p>
</div>

<div class="body">
    <table class="inventory-table">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Player</th>
                <th>Profile</th>
                <th>Score</th>
            </tr>
        </thead>
        <tbody>
            {% for player in players %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ player.name }}</td>

                <td>
                    {% if player.profile_picture %}
                        <img src="{{ url_for('static', filename='profile_pics/' ~ player.profile_picture) }}"
                             alt="Profile Picture"
                             style="width:40px; height:40px; border-radius:50%;">
                    {% else %}
                        <span>No Image</span>
                    {% endif %}
                </td>

                <td>{{ player.score }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

<div class="images">

    <a href="/">
        <img src="{{ url_for('static', filename='Pictures/BinnyHome.png') }}" alt="homebot" class="binnyhome">
    </a>
</div>
</div>



<!-- ===========
     Mouse trail
     =========== -->
<script>
document.addEventListener("mousemove", function (e) {
    const trail = document.createElement("img");
    trail.src = "{{ url_for('static', filename='Pictures/trail.png') }}";
    trail.className = "trail";
    trail.style.left = e.pageX + "px";
    trail.style.top = e.pageY + "px";

    document.body.appendChild(trail);

    setTimeout(() => {
        trail.style.opacity = "0";
    }, 10);

    setTimeout(() => {
        trail.remove();
    }, 600);
});
</script>
<!-- ========== -->
{% endblock %}